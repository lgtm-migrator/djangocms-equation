
{% load sekizai_tags static djangocms_equation_tags %}
{% addtoblock "css" %}<link rel="stylesheet" href="{% static 'djangocms_equation/css/change_form_template.css' %}">{% endaddtoblock %}
{% addtoblock "js" %}<script src="{% static 'djangocms_equation/js/render_template.js' %}"></script>{% endaddtoblock %}

{% if request.toolbar and request.toolbar.edit_mode_active %}
  {% addtoblock "js" %}
    <script>
      let fallbacks = document.querySelectorAll("template.cms-plugin.katex_fallback");
      fallbacks.forEach(function(el){el.remove()})
    </script>
  {% endaddtoblock %}
<template class="cms-plugin katex_fallback"></template>
{% endif %}


<span class="katex {% if instance.is_inline %}inline{% endif %}"
      style="font-size:{{instance.font_size_value|format_float_dot_delimiter}}{{instance.font_size_unit}};">
    ${% if not instance.is_inline %}${% endif %}
        {{instance.tex_code}}
    ${% if not instance.is_inline %}${% endif %}
</span>
