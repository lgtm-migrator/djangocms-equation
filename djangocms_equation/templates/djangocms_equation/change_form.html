{% extends change_form_template|default:"admin/cms/page/plugin/change_form.html" %}
{% load cms_static static %}

{% block extrahead %}
{{ block.super }}

<script src="{% static_with_version "cms/js/dist/bundle.admin.base.min.js" %}"></script>

<link rel="stylesheet" href="{% static 'djangocms_equation/css/change_form_template.css' %}">
<script src="{% static 'djangocms_equation/js/change_form_template.js' %}" ></script>

<style>
/*
resets styles applyed the html tag in djangocms_equation change_form
this is needed so the preview for the font-size  in rem is properly
rendered
*/
html{
  font-size: unset;
}
</style>

<script>
(function($) {
// CMS.$ will be passed for $
$(document).ready(function () {
    console.log("change_form.html is loading")
    let katex_live_render_out = document.querySelector("#katex_live_render_out")
    let new_parent = document.querySelector("#equationpluginmodel_form > div").appendChild(katex_live_render_out)

	CMS.API.Helpers.csrf('{{ csrf_token }}');
});
})(CMS.$);
</script>
{% endblock %}

{% block content %}
    {{ block.super }}
<br />
<span class="katex" id="katex_live_render_out">
Error in live rendering, please file an issue at https://github.com/s-weigand/djangocms-equation/issues
</span>

{% endblock %}


